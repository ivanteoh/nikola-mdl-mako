## -*- coding: utf-8 -*-
<%inherit file="list_post.tmpl"/>

<%block name="extra_head">
    ${parent.extra_head()}
    %if len(translations) > 1 and generate_rss:
        %for language in sorted(translations):
            <link rel="alternate" type="application/rss+xml" title="RSS for ${kind} ${tag|h} (${language})" href="${_link(kind + "_rss", tag, language)}">
        %endfor
    %elif generate_rss:
        <link rel="alternate" type="application/rss+xml" title="RSS for ${kind} ${tag|h}" href="${_link(kind + "_rss", tag)}">
    %endif
</%block>


<%block name="content">
<div class="site-page site-card mdl-grid">
    <div class="mdl-card mdl-cell mdl-cell--12-col mdl-shadow--4dp">
        <article class="tag-page">
            <div class="mdl-card__media"></div>
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">${title|h}</h2>
            </div>
            %if description:
            <div class="mdl-color-text--grey-700 mdl-card__supporting-text description">
                <p>${description}</p>
            </div>
            %endif
            %if subcategories:
            <div class="mdl-color-text--grey-700 mdl-card__supporting-text subcategories">
                ${messages('Subcategories:')}
                <ul class="mdl-list tag-page-subcategories">
                    %for name, link in subcategories:
                    <li class="mdl-list__item"><a href="${link}">${name|h}</a></li>
                    %endfor
                </ul>
            </div>
            %endif
            <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">
                %if len(translations) > 1 and generate_rss:
                    %for language in sorted(translations):
                    <p class="feedlink">
                        <a class="logo-rss" href="${_link(kind + "_rss", tag, language)}" hreflang="${language}" type="application/rss+xml">${messages('RSS feed', language)} (${language})</a>&nbsp;
                    </p>
                    %endfor
                %elif generate_rss:
                    <p class="feedlink"><a class="logo-rss" href="${_link(kind + "_rss", tag)}" type="application/rss+xml">${messages('RSS feed')}</a></p>
                %endif
            </div>
            <div class="mdl-grid mdl-color-text--grey-700 mdl-card__supporting-text">
                <div class="mdl-cell mdl-cell--12-col">
                    %if posts:
                    <ul class="mdl-list tag-page-items">
                    % for post in posts:
                        <li class="mdl-list__item"><time class="listdate" datetime="${post.formatted_date('webiso')}" title="${post.formatted_date(date_format)|h}">${post.formatted_date(date_format)|h}</time><a href="${post.permalink()}" class="listtitle">${post.title()|h}<a></li>
                    % endfor
                    </ul>
                    %endif
                </div>
            </div>
        </article>
    </div>
</div>
</%block>
